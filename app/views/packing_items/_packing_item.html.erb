<% checkbox_label = packing_item.checked ? "„ÉÅ„Çß„ÉÉ„ÇØÊ∏à„Åø" : "Êú™„ÉÅ„Çß„ÉÉ„ÇØ" %>
<% name_style = [
  "margin: 0",
  "font-size: 16px",
  "font-weight: 700",
  "color: #{packing_item.checked ? '#6b7280' : '#111827'}",
  "text-decoration: #{packing_item.checked ? 'line-through' : 'none'}",
  "line-height: 1.4"
].join('; ') %>

<div style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px 14px; background: #fff; box-shadow: 0 2px 6px rgba(0,0,0,0.03); display: flex; align-items: center; gap: 12px; justify-content: space-between; flex-wrap: wrap;">
  <div style="display: flex; align-items: center; gap: 12px; flex: 1; min-width: 220px;">
    <%= form_with model: [packing_item.trip, packing_item], url: trip_packing_item_path(packing_item.trip, packing_item), method: :patch, style: "margin: 0;" do |f| %>
      <label style="display: inline-flex; align-items: center; gap: 10px; cursor: pointer;">
        <%= f.check_box :checked, {
          onchange: "this.form.requestSubmit()",
          aria: { label: checkbox_label },
          style: "width: 18px; height: 18px; margin: 0;",
          include_hidden: true
        }, "1", "0" %>
        <p style="<%= name_style %>"><%= packing_item.name %></p>
      </label>
    <% end %>
  </div>

  <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
    <% if packing_item.category.present? %>
      <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; background: #f3f4f6; color: #374151; border-radius: 9999px; font-size: 13px; font-weight: 600;">üè∑ <%= packing_item.category %></span>
    <% end %>

    <%= button_to "ÂâäÈô§", trip_packing_item_path(packing_item.trip, packing_item), method: :delete,
      data: { turbo_confirm: "„Åì„ÅÆÊåÅ„Å°Áâ©„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" },
      form: { style: "margin: 0;" },
      style: [
        "padding: 8px 10px",
        "border-radius: 10px",
        "border: 1px solid #fca5a5",
        "background: #fef2f2",
        "color: #b91c1c",
        "font-size: 13px",
        "font-weight: 700",
        "cursor: pointer",
        "box-shadow: 0 1px 4px rgba(0,0,0,0.04)"
      ].join('; ') %>
  </div>
</div>
