<% time_label =
  if activity.start_time.present? && activity.end_time.present?
    "#{activity.start_time.strftime('%H:%M')}ã€œ#{activity.end_time.strftime('%H:%M')}"
  elsif activity.start_time.present?
    "#{activity.start_time.strftime('%H:%M')}ã€œ"
  elsif activity.end_time.present?
    "ã€œ#{activity.end_time.strftime('%H:%M')}"
  else
    "æ™‚åˆ»æœªè¨­å®š"
  end %>

<%= link_to edit_trip_activity_path(activity.trip, activity), class: "itinerary-row", style: [
  "display: flex",
  "gap: 16px",
  "align-items: flex-start",
  "padding: 16px",
  "border: 1px solid #e5e7eb",
  "border-radius: 16px",
  "background: #ffffff",
  "cursor: pointer",
  "text-decoration: none",
  "color: inherit",
  "transition: box-shadow 0.2s ease"
].join('; ') do %>
  <div class="itinerary-row-time" style="flex: 0 0 auto; width: 160px; color: #374151; font-weight: 600; font-size: 15px; white-space: nowrap; display: inline-flex; align-items: center; gap: 6px; font-variant-numeric: tabular-nums;">
    <span>ğŸ•’</span>
    <%= time_label %>
  </div>
  <div class="itinerary-row-content" style="flex: 1; min-width: 160px;">
    <p style="margin: 0 0 4px; font-size: 16px; font-weight: 700; color: #111827; line-height: 1.4;"><%= activity.title %></p>
    <% if activity.location.present? %>
      <p style="margin: 0; font-size: 14px; color: #6b7280; display: inline-flex; align-items: center; gap: 6px;">
        <span>ğŸ“</span>
        <span><%= activity.location %></span>
      </p>
    <% end %>
  </div>
  <div class="itinerary-row-meta" style="display: flex; align-items: center; gap: 12px; margin-left: auto;">
    <% if activity.cost.present? %>
      <div style="flex-shrink: 0; text-align: right;">
        <p style="margin: 0; font-size: 16px; font-weight: 700; color: #111827;">
          <%= number_to_currency(activity.cost, unit: "Â¥", precision: 0) %>
        </p>
      </div>
    <% end %>
    <span style="color: #9ca3af; font-size: 20px; line-height: 1; align-self: center;">&gt;</span>
  </div>
<% end %>
